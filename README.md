# 🏃‍♂️ 動画姿勢解析Webアプリケーション

[![Streamlit](https://img.shields.io/badge/Made%20with-Streamlit-red.svg)](https://streamlit.io)
[![Python](https://img.shields.io/badge/Python-3.8%2B-blue.svg)](https://python.org)
[![MediaPipe](https://img.shields.io/badge/MediaPipe-0.10.14-green.svg)](https://mediapipe.dev)

## 🎯 概要
**AI技術を活用した高精度な動画姿勢解析システム**

MediaPipeとOpenCVを使用して、アップロードされた動画からリアルタイムで人体の姿勢を解析。
ローイングフォーム改善やスポーツ指導に最適化された機能を提供します。

## ✨ デモ
🔗 **[ライブデモを試す](https://your-app-name.streamlit.app)** （デプロイ後に更新）

## 主な機能

### 1. 骨格トレース機能
- MediaPipeを使用した高精度な人体骨格検出
- リアルタイムでの骨格描画
- 33個の主要な身体ランドマークポイントの追跡

### 2. 頭の高さ水平線
- 頭部（鼻の位置）に基づく水平基準線の描画
- 動的な位置追跡による正確な基準線表示

### 3. 腰角度測定システム
- **リアルタイム角度計算**: 肩-腰-膝の3点による角度測定
- **統計情報の記録**: 
  - 現在の角度表示
  - 動画全体での最大角度
  - 動画全体での最小角度
  - 平均角度の計算

### 4. 目線検出機能
- 顔メッシュ技術による高精度な目の位置検出
- 目線の方向推定と矢印での視覚化
- 左右両眼の個別認識

### 5. データ可視化
- 腰角度の時系列グラフ表示
- 統計情報のメトリクス表示
- プログレスバーによる解析進捗表示

## 技術仕様

### 使用技術
- **Python 3.8+**
- **Streamlit**: Webアプリケーションフレームワーク
- **OpenCV**: 画像・動画処理
- **MediaPipe**: AI-powered姿勢検出
- **NumPy**: 数値計算
- **Matplotlib**: データ可視化

### サポートファイル形式
- MP4
- AVI  
- MOV

## インストール方法

```bash
# リポジトリをクローン
git clone <repository-url>
cd rowingapp_new

# 依存関係をインストール
pip install -r requirements.txt
```

## 使用方法

```bash
# アプリケーションを起動
streamlit run main.py
```

1. ブラウザでアプリケーションを開く
2. 動画ファイルをアップロード
3. 「解析開始」ボタンをクリック
4. リアルタイム解析結果を確認
5. 完了後、統計情報とグラフを確認

## アプリケーション画面

### メイン機能
- 動画アップロード領域
- リアルタイム解析表示
- プログレスバー

### 表示要素
- 骨格の描画（白線）
- 頭の高さ水平線（緑線）
- 腰角度の数値表示（赤文字）
- 目線方向の矢印（黄色）
- 統計情報（画面上部）

### 結果表示
- 最大・最小・平均角度のメトリクス
- 腰角度の時系列変化グラフ
- フレーム別の詳細情報

## 今後の拡張予定

- [ ] 複数人同時解析
- [ ] カスタム角度測定点の設定
- [ ] 動画エクスポート機能
- [ ] より詳細な統計分析
- [ ] クラウド対応

## ライセンス
MIT License

## 開発者
Professional Engineer - Rowing Analysis Specialist
